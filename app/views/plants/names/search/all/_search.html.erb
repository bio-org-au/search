<%= form_tag(plants_names_search_all_path, method: "get", id: "search-form") do %>
  <div class="form-group row">
    <%= label_tag(:q,
                  "Search for:",
                  class:"sr-only col-sm-2 form-control-label") %>
  <div class="col-sm-10">
    <%= text_field_tag(:q,
                       '',
                       class: "form-control",
                       value: "#{params[:q]}",
                       autofocus: true,
                       placeholder: "Search all names") %>
    </div>
    <input type="hidden" 
           min="0"
           max="1000"
           step="1"
           value="<%= session[:default_details_limit] %>"
           name="details_limit"
           id="details-limit"
           class="">
  <%= submit_tag("Search", class: "btn btn-search hidden-print") %>
  </div>
<% end %>

<% if @search.present? %>
  <%= "<span class='search-result-summary'>#{pluralize(@search.results.size, 'scientific or cultivar name')}</span>".html_safe %>
<% end %>
<br/>
<% if @search2.present? %>
  <%= "<span class='search-result-summary'>#{pluralize(@search2.results.size, 'common name')}</span>".html_safe %>
<% end %>
<br/>
<br/>

<% if @search.present? && @search.results.size > 0 %>
  <h4>Scientific and Cultivar</h4>
  <%= render partial: '/plants/names/search/results', locals: {search: @search, name: @search.results.first} %>
<% end %>

<% if @search2.present? && @search2.results.size > 0 %>
  <h4>Common and Informal</h4>
  <%= render partial: '/plants/names/search/results', locals: {search: @search2, name: @search2.results.first} %>
<% end %>
<br/>
<br/>
<br/>
<span class="debug hidden-print">[plants/names/search/all]</span>
